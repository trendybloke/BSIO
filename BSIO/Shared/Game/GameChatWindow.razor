<MudPaper Class="mud-theme-dark">
	<MudPaper Class="pa-4">
		<MudStack Spacing="1">
			<MudTable Items="ChatMessages" FixedHeader="true" FixedFooter="true" Height="65vh">
				<RowTemplate>@context</RowTemplate>
			</MudTable>
			<MudStack Row="true">
				<MudTextField @bind-Value="ChatMessage" Placeholder="Enter message..." Variant="Variant.Outlined"></MudTextField>
				<MudButton Variant="Variant.Filled" Color="Color.Primary">MSG</MudButton>
			</MudStack>
		</MudStack>
	</MudPaper>
</MudPaper>

@code {
	string ChatMessage { get; set; }
	List<string> ChatMessages { get; set; }

	protected override async Task OnInitializedAsync()
	{
		await base.OnInitializedAsync();

		ChatMessages = new List<string>();

		AddMessage("Welcome to Bullshit.IO!");
		AddMessage("PLAYER 2", "Yo what's good PLAYER 1?");
		AddMessage("PLAYER 3", "Took u long enough!");
	}

	public void AddMessage(string content)
	{
		ChatMessages.Add($"[{DateTime.Now.ToString("HH:mm:ss")}] {content}");
		StateHasChanged();
	}

	public void AddMessage(string speaker, string content)
	{
		ChatMessages.Add($"[{DateTime.Now.ToString("HH:mm:ss")}] {speaker}: {content}");
		StateHasChanged();
	}
}
